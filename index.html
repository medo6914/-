<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Amazon Clone - موقع تسوق</title>
<style>
  * {
    box-sizing: border-box;
  }
  body {
    margin: 0; padding: 0; font-family: Arial, sans-serif; background: #f5f5f5; direction: rtl;
  }
  header {
    background-color: #232f3e; color: white; padding: 15px 30px; display: flex; justify-content: space-between; align-items: center;
  }
  header h1 {
    margin: 0; cursor: pointer;
  }
  nav a {
    color: white; text-decoration: none; margin-left: 15px; font-weight: bold;
    cursor: pointer;
  }
  nav a:hover {
    text-decoration: underline;
  }
  main {
    max-width: 960px; margin: 20px auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px #ccc;
  }
  .products-grid {
    display: flex; gap: 20px; flex-wrap: wrap; justify-content: flex-start;
  }
  .product-card {
    width: 220px; border: 1px solid #ddd; border-radius: 5px; padding: 10px; background: #fff; cursor: pointer;
    transition: box-shadow 0.3s;
  }
  .product-card:hover {
    box-shadow: 0 2px 10px rgba(0,0,0,0.2);
  }
  .product-card img {
    max-width: 100%; border-radius: 5px;
  }
  .product-title {
    font-size: 18px; margin: 10px 0 5px; height: 44px; overflow: hidden;
  }
  .product-price {
    color: #b12704; font-weight: bold; margin-bottom: 10px;
  }
  button {
    background-color: #ffd814; border: none; padding: 10px; width: 100%; border-radius: 5px; font-weight: bold; cursor: pointer;
    transition: background-color 0.3s;
  }
  button:hover {
    background-color: #f7ca00;
  }
  .cart-list {
    list-style: none; padding: 0;
  }
  .cart-list li {
    display: flex; justify-content: space-between; margin-bottom: 10px; padding-bottom: 10px; border-bottom: 1px solid #ddd;
  }
  input[type="email"], input[type="password"], input[type="text"] {
    width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #ccc;
  }
  form {
    max-width: 400px; margin: auto;
  }
  .link-button {
    background: none; border: none; color: #0066c0; cursor: pointer; padding: 0; font-size: 1em;
  }
  .link-button:hover {
    text-decoration: underline;
  }
  footer {
    text-align: center; padding: 15px; margin-top: 30px; font-size: 14px; color: #555;
  }
</style>
</head>
<body>

<header>
  <h1 id="logo">Amazon Clone</h1>
  <nav id="nav-links">
    <a id="nav-home">الرئيسية</a>
    <a id="nav-cart">عربة التسوق (0)</a>
    <a id="nav-login">تسجيل دخول</a>
  </nav>
</header>

<main id="main-content">
  <!-- المحتوى يتغير حسب الصفحة -->
</main>

<footer>
  &copy; 2025 Amazon Clone - جميع الحقوق محفوظة
</footer>

<script>
  // بيانات ثابتة للمنتجات (ممكن توسعهم)
  const products = [
    {id:1, title: "هاتف ذكي XYZ", price: 299, description: "هاتف ذكي رائع مع مواصفات ممتازة", image: "https://via.placeholder.com/220x150?text=هاتف" },
    {id:2, title: "سماعات لاسلكية", price: 89, description: "سماعات مريحة وعالية الجودة", image: "https://via.placeholder.com/220x150?text=سماعات" },
    {id:3, title: "لابتوب ألعاب", price: 1200, description: "لابتوب بأداء عالي للألعاب والبرامج الثقيلة", image: "https://via.placeholder.com/220x150?text=لابتوب" }
  ];

  let cart = [];
  let user = null; // مثال: {name: 'ahmed', email: 'ahmed@example.com'}

  // عناصر التحكم الرئيسية
  const mainContent = document.getElementById('main-content');
  const navHome = document.getElementById('nav-home');
  const navCart = document.getElementById('nav-cart');
  const navLogin = document.getElementById('nav-login');
  const logo = document.getElementById('logo');

  // تحديث عداد العربة في الرأس
  function updateCartCount() {
    navCart.textContent = `عربة التسوق (${cart.length})`;
  }

  // تحديث روابط الرأس حسب حالة المستخدم
  function updateNavUser() {
    if(user) {
      navLogin.textContent = `مرحبا، ${user.name}`;
      navLogin.style.cursor = "pointer";
      navLogin.onclick = () => showProfile();
    } else {
      navLogin.textContent = "تسجيل دخول";
      navLogin.style.cursor = "pointer";
      navLogin.onclick = () => showLogin();
    }
  }

  // عرض الصفحة الرئيسية - قائمة المنتجات
  function showHome() {
    document.title = "الرئيسية - Amazon Clone";
    let html = `<h2>المنتجات</h2><div class="products-grid">`;
    products.forEach(prod => {
      html += `
      <div class="product-card" onclick="showProduct(${prod.id})" title="عرض تفاصيل المنتج">
        <img src="${prod.image}" alt="${prod.title}" />
        <div class="product-title">${prod.title}</div>
        <div class="product-price">${prod.price} $</div>
        <button onclick="event.stopPropagation(); addToCart(${prod.id});">أضف للعربة</button>
      </div>`;
    });
    html += `</div>`;
    mainContent.innerHTML = html;
  }

  // عرض تفاصيل المنتج
  function showProduct(id) {
    const prod = products.find(p => p.id === id);
    if(!prod) {
      mainContent.innerHTML = "<p>المنتج غير موجود.</p>";
      return;
    }
    document.title = `${prod.title} - Amazon Clone`;
    mainContent.innerHTML = `
      <button onclick="showHome()">&#8592; العودة للمنتجات</button>
      <h2>${prod.title}</h2>
      <img src="${prod.image}" alt="${prod.title}" style="max-width: 100%; max-height: 300px; border-radius: 5px;" />
      <p style="margin-top: 10px;">${prod.description}</p>
      <p style="font-weight: bold; font-size: 18px; color: #b12704;">السعر: ${prod.price} $</p>
      <button onclick="addToCart(${prod.id})">أضف للعربة</button>
    `;
  }

  // إضافة منتج للعربة
  function addToCart(id) {
    const prod = products.find(p => p.id === id);
    if(prod) {
      cart.push(prod);
      updateCartCount();
      alert(`تم إضافة "${prod.title}" إلى عربة التسوق.`);
    }
  }

  // عرض عربة التسوق
  function showCart() {
    document.title = "عربة التسوق - Amazon Clone";
    if(cart.length === 0) {
      mainContent.innerHTML = `<h2>عربة التسوق</h2><p>العربة فارغة.</p><button onclick="showHome()">عودة للتسوق</button>`;
      return;
    }
    let html = `<h2>عربة التسوق</h2><ul class="cart-list">`;
    cart.forEach((item, idx) => {
      html += `<li>
        <span>${item.title} - ${item.price} $</span>
        <button onclick="removeFromCart(${idx})">حذف</button>
      </li>`;
    });
    html += `</ul>`;
    const total = cart.reduce((sum, item) => sum + item.price, 0);
    html += `<p><strong>المجموع: ${total.toFixed(2)} $</strong></p>`;
    html += `<button onclick="proceedCheckout()">إتمام الشراء</button>`;
    html += `<br/><button onclick="showHome()" style="margin-top:10px;">عودة للتسوق</button>`;
    mainContent.innerHTML = html;
  }

  // إزالة عنصر من العربة حسب الفهرس
  function removeFromCart(index) {
    cart.splice(index,1);
    updateCartCount();
    showCart();
  }

  // عرض صفحة تسجيل الدخول
  function showLogin() {
    document.title = "تسجيل الدخول - Amazon Clone";
    if(user) {
      alert("أنت مسجل الدخول بالفعل.");
      showProfile();
      return;
    }
    mainContent.innerHTML = `
      <h2>تسجيل الدخول</h2>
      <form id="login-form">
        <input type="email" id="login-email" placeholder="البريد الإلكتروني" required />
        <input type="password" id="login-password" placeholder="كلمة المرور" required />
        <button type="submit">دخول</button>
      </form>
      <p>ليس لديك حساب؟ <button class="link-button" onclick="showRegister()">إنشاء حساب</button></p>
    `;
    document.getElementById('login-form').onsubmit = (e) => {
      e.preventDefault();
      const email = document.getElementById('login-email').value.trim();
      const password = document.getElementById('login-password').value.trim();
      if(email && password) {
        user = {name: email.split('@')[0], email};
        updateNavUser();
        alert(`مرحبا، ${user.name}! تم تسجيل الدخول.`);
        showHome();
      } else {
        alert("يرجى إدخال البريد الإلكتروني وكلمة المرور.");
      }
    };
  }

  // عرض صفحة التسجيل
  function showRegister() {
    document.title = "إنشاء حساب - Amazon Clone";
    mainContent.innerHTML = `
      <h2>إنشاء حساب جديد</h2>
      <form id="register-form">
        <input type="text" id="reg-name" placeholder="الاسم الكامل" required />
        <input type="email" id="reg-email" placeholder="البريد الإلكتروني" required />
        <input type="password" id="reg-password" placeholder="كلمة المرور" required />
        <button type="submit">تسجيل</button>
      </form>
      <p>هل لديك حساب؟ <button class="link-button" onclick="showLogin()">تسجيل دخول</button></p>
    `;
    document.getElementById('register-form').onsubmit = (e) => {
      e.preventDefault();
      const name = document.getElementById('reg-name').value.trim();
      const email = document.getElementById('reg-email').value.trim();
      const password = document.getElementById('reg-password').value.trim();
      if(name && email && password) {
        user = {name, email};
        updateNavUser();
        alert(`تم إنشاء الحساب! مرحبا، ${name}`);
        showHome();
      } else {
        alert("يرجى ملء جميع الحقول.");
      }
    };
  }

  // عرض صفحة ملف المستخدم
  function showProfile() {
    if(!user) {
      alert("يرجى تسجيل الدخول أولاً.");
      showLogin();
      return;
    }
    document.title = "الملف الشخصي - Amazon Clone";
    mainContent.innerHTML = `
      <h2>الملف الشخصي</h2>
      <p><strong>الاسم:</strong> ${user.name}</p>
      <p><strong>البريد الإلكتروني:</strong> ${user.email}</p>
      <button onclick="logout()">تسجيل خروج</button>
      <button onclick="showHome()" style="margin-left: 10px;">العودة للرئيسية</button>
    `;
  }

  // تسجيل خروج
  function logout() {
    if(confirm("هل تريد تسجيل الخروج؟")) {
      user = null;
      updateNavUser();
      alert("تم تسجيل الخروج.");
      showHome();
    }
  }

  // إتمام الشراء (واجهة فقط)
  function proceedCheckout() {
    if(!user) {
      alert("يرجى تسجيل الدخول لإتمام الشراء.");
      showLogin();
      return;
    }
    if(cart.length === 0) {
      alert("عربة التسوق فارغة.");
      showHome();
      return;
    }
    const total = cart.reduce((sum, item) => sum + item.price, 0);
    if(confirm(`مجموع الطلب هو ${total.toFixed(2)} $. هل تريد تأكيد الدفع؟`)) {
      alert("شكراً لطلبك! سيتم تجهيز الطلب.");
      cart = [];
      updateCartCount();
      showHome();
    }
  }

  // روابط رأس التنقل
  navHome.onclick = () => showHome();
  navCart.onclick = () => showCart();
  navLogin.onclick = () => {
    if(user) showProfile();
    else showLogin();
  };
  logo.onclick = () => showHome();

  // بدء الموقع بصفحة الرئيسية
  updateCartCount();
  updateNavUser();
  showHome();

</script>

</body>
</html>

